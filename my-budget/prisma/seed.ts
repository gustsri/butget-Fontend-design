import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

// ============================================================================
// 1. DATA PREPARATION
// ============================================================================

// 1.1 à¸«à¸¡à¸§à¸”à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢ (Budget Categories)
const categoriesData = [
  { code: '51000', name: 'à¸‡à¸šà¸šà¸¸à¸„à¸¥à¸²à¸à¸£' },
  { code: '52000', name: 'à¸‡à¸šà¸”à¸³à¹€à¸™à¸´à¸™à¸‡à¸²à¸™' },
  { code: '53000', name: 'à¸‡à¸šà¸¥à¸‡à¸—à¸¸à¸™' },
  { code: '54000', name: 'à¸‡à¸šà¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™' },
  { code: '55000', name: 'à¸‡à¸šà¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™' },
]

// 1.2 à¸à¸­à¸‡à¸—à¸¸à¸™ (Fund Masters)
const fundsData = [
  { code: '0100', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸±à¹ˆà¸§à¹„à¸›' },
  { code: '0200', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¹€à¸žà¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²' },
  { code: '0300', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸§à¸´à¸ˆà¸±à¸¢' },
  { code: '0400', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸šà¸£à¸´à¸à¸²à¸£à¸§à¸´à¸Šà¸²à¸à¸²à¸£' },
  { code: '0500', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸à¸´à¸ˆà¸à¸²à¸£à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²' },
  { code: '0600', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸ªà¸´à¸™à¸—à¸£à¸±à¸žà¸¢à¹Œà¸–à¸²à¸§à¸£' },
  { code: '0701', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸³à¸™à¸¸à¸šà¸³à¸£à¸¸à¸‡à¸¨à¸´à¸¥à¸›à¸§à¸±à¸’à¸™à¸˜à¸£à¸£à¸¡' },
  { code: '0703', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸žà¸±à¸’à¸™à¸²à¸šà¸¸à¸„à¸¥à¸²à¸à¸£' },
  { code: '0705', name: 'à¸à¸­à¸‡à¸—à¸¸à¸™à¸¢à¸¸à¸—à¸˜à¸¨à¸²à¸ªà¸•à¸£à¹Œ' },
]

// 1.3 à¸£à¸²à¸¢à¸à¸²à¸£à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢ (Expense Items) - Flatten List à¸žà¸£à¹‰à¸­à¸¡ Parent Code
// à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: categoryCode à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸š map à¸«à¸² ID à¸‚à¸­à¸‡à¸«à¸¡à¸§à¸”
const expenseItemsData = [
  // --- à¸«à¸¡à¸§à¸” 51000 ---
  { code: '51100', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸šà¸¸à¸„à¸¥à¸²à¸à¸£', categoryCode: '51000', parentCode: null },
  { code: '5101010000', name: 'à¹€à¸‡à¸´à¸™à¹€à¸”à¸·à¸­à¸™à¹à¸¥à¸°à¸„à¹ˆà¸²à¸ˆà¹‰à¸²à¸‡', categoryCode: '51000', parentCode: '51100' },
  { code: '5101010017', name: 'à¸„à¹ˆà¸²à¸ˆà¹‰à¸²à¸‡à¸¥à¸¹à¸à¸ˆà¹‰à¸²à¸‡à¸ªà¸±à¸à¸à¸²à¸ˆà¹‰à¸²à¸‡à¸žà¸™à¸±à¸à¸‡à¸²à¸™ (à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“à¹€à¸‡à¸´à¸™à¸£à¸²à¸¢à¹„à¸”à¹‰)', categoryCode: '51000', parentCode: '51100' },
  { code: '5101010025', name: 'à¸„à¹ˆà¸²à¸„à¸£à¸­à¸‡à¸Šà¸µà¸žà¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸ªà¸³à¸«à¸£à¸±à¸šà¸žà¸™à¸±à¸à¸‡à¸²à¸™à¹€à¸‡à¸´à¸™à¸£à¸²à¸¢à¹„à¸”à¹‰', categoryCode: '51000', parentCode: '51100' },
  { code: '5101010038', name: 'à¸„à¹ˆà¸²à¸ˆà¹‰à¸²à¸‡à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸ªà¸–à¸²à¸šà¸±à¸™à¸›à¸£à¸°à¹€à¸ à¸—à¸žà¸´à¹€à¸¨à¸©', categoryCode: '51000', parentCode: '51100' },
  { code: '5101010004', name: 'à¹€à¸‡à¸´à¸™à¸›à¸£à¸°à¸ˆà¸³à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸œà¸¹à¹‰à¸šà¸£à¸´à¸«à¸²à¸£', categoryCode: '51000', parentCode: '51100' },
  { code: '5101010039', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸ à¸²à¸©à¸²à¸•à¹ˆà¸²à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨', categoryCode: '51000', parentCode: '51100' },
  { code: '51200', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸­à¸·à¹ˆà¸™', categoryCode: '51000', parentCode: null },
  { code: '5101020000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸­à¸·à¹ˆà¸™', categoryCode: '51000', parentCode: '51200' },
  { code: '5101020051', name: 'à¸„à¹ˆà¸²à¸Šà¸”à¹€à¸Šà¸¢à¸‚à¸­à¸‡à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸ªà¸–à¸²à¸šà¸±à¸™(à¹€à¸‡à¸´à¸™à¸£à¸²à¸¢à¹„à¸”à¹‰) à¸à¸£à¸“à¸µà¹€à¸¥à¸´à¸à¸ˆà¹‰à¸²à¸‡à¸•à¸²à¸¡à¸«à¸¥à¸±à¸à¹€à¸à¸“à¸‘à¹Œ', categoryCode: '51000', parentCode: '51200' },
  { code: '5101020045', name: 'à¹€à¸‡à¸´à¸™à¸ªà¸¡à¸—à¸šà¸à¸­à¸‡à¸—à¸¸à¸™à¸ªà¸³à¸£à¸­à¸‡à¹€à¸¥à¸µà¹‰à¸¢à¸‡à¸Šà¸µà¸žà¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸ªà¸–à¸²à¸šà¸±à¸™à¸¯ (à¹€à¸‡à¸´à¸™à¸£à¸²à¸¢à¹„à¸”à¹‰)', categoryCode: '51000', parentCode: '51200' },

  // --- à¸«à¸¡à¸§à¸” 52000 ---
  { code: '52300', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™', categoryCode: '52000', parentCode: null },
  { code: '5230000000', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸­à¸·à¹ˆà¸™', categoryCode: '52000', parentCode: '52300' },
  { code: '5101010010', name: 'à¸„à¹ˆà¸²à¸¥à¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²', categoryCode: '52000', parentCode: '52300' },
  { code: '5104030201', name: 'à¸„à¹ˆà¸²à¹€à¸šà¸µà¹‰à¸¢à¸›à¸£à¸°à¸Šà¸¸à¸¡', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020014', name: 'à¸„à¹ˆà¸²à¸•à¸£à¸§à¸ˆà¹à¸¥à¸°à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸œà¸¥à¸‡à¸²à¸™à¸—à¸²à¸‡à¸§à¸´à¸Šà¸²à¸à¸²à¸£/à¸›à¸±à¸à¸«à¸²à¸žà¸´à¹€à¸¨à¸©', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020030', name: 'à¸„à¹ˆà¸²à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸à¸²à¸£à¸ˆà¹‰à¸²à¸‡ à¸„à¸§à¸šà¸„à¸¸à¸¡à¸‡à¸²à¸™à¹à¸¥à¸°à¸„à¹ˆà¸²à¸­à¸­à¸à¹à¸šà¸š (à¸šà¸¸à¸„à¸„à¸¥à¸ à¸²à¸¢à¹ƒà¸™)', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020114', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸­à¸²à¸ˆà¸²à¸£à¸¢à¹Œà¸œà¸¹à¹‰à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£à¸•à¸²à¸¡à¸à¸£à¸­à¸šà¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸­à¸¸à¸”à¸¡à¸¨à¸¶à¸à¸©à¸²', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020025', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸à¸²à¸£à¹€à¸ªà¸™à¸­à¸šà¸—à¸„à¸§à¸²à¸¡à¸—à¸²à¸‡à¸§à¸´à¸Šà¸²à¸à¸²à¸£', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020106', name: 'à¹€à¸‡à¸´à¸™à¸£à¸²à¸‡à¸§à¸±à¸¥à¹ƒà¸«à¹‰à¸à¸±à¸šà¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸µà¹ˆà¸—à¸³à¸Šà¸·à¹ˆà¸­à¹€à¸ªà¸µà¸¢à¸‡à¹ƒà¸«à¹‰à¸ªà¸–à¸²à¸šà¸±à¸™', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020011', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸§à¸´à¸—à¸¢à¸²à¸à¸£', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020012', name: 'à¸„à¹ˆà¸²à¸ªà¸­à¸™à¸žà¸´à¹€à¸¨à¸©à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¸£à¸°à¸”à¸±à¸šà¸›à¸£à¸´à¸à¸à¸²à¸•à¸£à¸µ', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020026', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸­à¸²à¸ˆà¸²à¸£à¸¢à¹Œà¸—à¸µà¹ˆà¸›à¸£à¸¶à¸à¸©à¸²', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020037', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¸Šà¹ˆà¸§à¸¢à¸›à¸à¸´à¸šà¸±à¸•à¸´à¸‡à¸²à¸™', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020013', name: 'à¸„à¹ˆà¸²à¸ªà¸­à¸™à¸žà¸´à¹€à¸¨à¸©à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¸£à¸°à¸”à¸±à¸šà¸›à¸£à¸´à¸à¸à¸²à¹‚à¸—-à¹€à¸­à¸', categoryCode: '52000', parentCode: '52300' },
  { code: '5101020104', name: 'à¸„à¹ˆà¸²à¸•à¸­à¸šà¹à¸—à¸™à¸œà¸¹à¹‰à¸—à¸£à¸‡à¸„à¸¸à¸“à¸§à¸¸à¸’à¸´à¸­à¹ˆà¸²à¸™à¸šà¸—à¸„à¸§à¸²à¸¡à¸§à¸´à¸Šà¸²à¸à¸²à¸£', categoryCode: '52000', parentCode: '52300' },
  
  { code: '52400', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ªà¸­à¸¢', categoryCode: '52000', parentCode: null },
  { code: '5104010200', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ªà¸­à¸¢', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010202', name: 'à¸„à¹ˆà¸²à¸£à¸±à¸šà¸£à¸­à¸‡à¹à¸¥à¸°à¸žà¸´à¸˜à¸µà¸à¸²à¸£', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010203', name: 'à¸„à¹ˆà¸²à¸ˆà¹‰à¸²à¸‡à¹€à¸«à¸¡à¸²à¸šà¸£à¸´à¸à¸²à¸£', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010208', name: 'à¸„à¹ˆà¸²à¹€à¸Šà¹ˆà¸²à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™', categoryCode: '52000', parentCode: '52400' },
  { code: '5104030203', name: 'à¸„à¹ˆà¸²à¹€à¸šà¸µà¹‰à¸¢à¸›à¸£à¸°à¸à¸±à¸™à¸ à¸±à¸¢ (à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸­à¸²à¸„à¸²à¸£-à¸£à¸–à¸¢à¸™à¸•à¹Œ)', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010201', name: 'à¸„à¹ˆà¸²à¸˜à¸£à¸£à¸¡à¹€à¸™à¸µà¸¢à¸¡ (à¸ à¸²à¸©à¸µà¸£à¸–à¸¢à¸™à¸•à¹Œ à¸¯à¸¥à¸¯)', categoryCode: '52000', parentCode: '52400' },
  { code: '5103010000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸žà¸·à¹ˆà¸­à¸‡à¸²à¸™à¸£à¸²à¸Šà¸à¸²à¸£à¹ƒà¸™à¸›à¸£à¸°à¹€à¸—à¸¨', categoryCode: '52000', parentCode: '52400' },
  { code: '5104030100', name: 'à¸„à¹ˆà¸²à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¹à¸¥à¸°à¸„à¹ˆà¸²à¸žà¸´à¸¡à¸žà¹Œ', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010204', name: 'à¸„à¹ˆà¸²à¸‹à¹ˆà¸­à¸¡à¹à¸‹à¸¡à¹à¸¥à¸°à¸šà¸³à¸£à¸¸à¸‡à¸£à¸±à¸à¸©à¸²à¸„à¸£à¸¸à¸ à¸±à¸“à¸‘à¹Œ', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010205', name: 'à¸„à¹ˆà¸²à¸‹à¹ˆà¸­à¸¡à¹à¸‹à¸¡à¹à¸¥à¸°à¸šà¸³à¸£à¸¸à¸‡à¸£à¸±à¸à¸©à¸²à¸¢à¸²à¸™à¸žà¸²à¸«à¸™à¸°', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010206', name: 'à¸„à¹ˆà¸²à¸‹à¹ˆà¸­à¸¡à¹à¸‹à¸¡à¹à¸¥à¸°à¸šà¸³à¸£à¸¸à¸‡à¸£à¸±à¸à¸©à¸²à¸ªà¸´à¹ˆà¸‡à¸à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡ (MA)', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010291', name: 'à¸„à¹ˆà¸²à¸¥à¸´à¸‚à¸ªà¸´à¸—à¸˜à¸´à¹Œ à¸‹à¸­à¸Ÿà¹à¸§à¸£à¹Œ', categoryCode: '52000', parentCode: '52400' },
  { code: '5102010000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸”à¹‰à¸²à¸™à¸à¸²à¸£à¸à¸¶à¸à¸­à¸šà¸£à¸¡à¸ à¸²à¸¢à¹ƒà¸™à¸›à¸£à¸°à¹€à¸—à¸¨', categoryCode: '52000', parentCode: '52400' },
  { code: '5102020000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸”à¹‰à¸²à¸™à¸à¸²à¸£à¸à¸¶à¸à¸­à¸šà¸£à¸¡à¸•à¹ˆà¸²à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨', categoryCode: '52000', parentCode: '52400' },
  { code: '5103020000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸žà¸·à¹ˆà¸­à¸‡à¸²à¸™à¸£à¸²à¸Šà¸à¸²à¸£à¸•à¹ˆà¸²à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010214', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸™à¸à¸²à¸£à¸ˆà¸±à¸”à¸­à¸šà¸£à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010285', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸™à¸à¸²à¸£à¸•à¸µà¸žà¸´à¸¡à¸žà¹Œà¸šà¸—à¸„à¸§à¸²à¸¡à¹ƒà¸™à¸§à¸²à¸£à¸ªà¸²à¸£à¸§à¸´à¸Šà¸²à¸à¸²à¸£', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010207', name: 'à¸„à¹ˆà¸²à¸ªà¸¡à¸²à¸Šà¸´à¸à¹à¸¥à¸°à¸à¸²à¸£à¹à¸‚à¹ˆà¸‡à¸‚à¸±à¸™', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010209', name: 'à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸žà¸±à¸ à¸­.à¸žà¸´à¹€à¸¨à¸©/à¸œà¸¹à¹‰à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸à¸•à¹ˆà¸²à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010210', name: 'à¸„à¹ˆà¸²à¹€à¸”à¸´à¸™à¸—à¸²à¸‡ à¸­.à¸žà¸´à¹€à¸¨à¸©/à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸§à¸´à¸—à¸¢à¸²à¸™à¸´à¸žà¸™à¸˜à¹Œ', categoryCode: '52000', parentCode: '52400' },
  { code: '5104010218', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸™à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¸”à¸¹à¸‡à¸²à¸™à¹ƒà¸™à¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£à¸šà¸±à¸“à¸‘à¸´à¸•à¸¨à¸¶à¸à¸©à¸²', categoryCode: '52000', parentCode: '52400' },

  { code: '52500', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸', categoryCode: '52000', parentCode: null },
  { code: '5104010000', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¹ƒà¸Šà¹‰à¹„à¸›', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010101', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸ªà¸³à¸™à¸±à¸à¸‡à¸²à¸™à¹ƒà¸Šà¹‰à¹„à¸›', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010102', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¹‚à¸†à¸©à¸“à¸²à¹à¸¥à¸°à¹€à¸œà¸¢à¹à¸žà¸£à¹ˆà¹ƒà¸Šà¹‰à¹„à¸›', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010104', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸™à¹‰à¸³à¸¡à¸±à¸™à¹€à¸Šà¸·à¹‰à¸­à¹€à¸žà¸¥à¸´à¸‡à¹à¸¥à¸°à¸«à¸¥à¹ˆà¸­à¸¥à¸·à¹ˆà¸™', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010105', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸‡à¸²à¸™à¸šà¹‰à¸²à¸™à¸‡à¸²à¸™à¸„à¸£à¸±à¸§à¹ƒà¸Šà¹‰à¹„à¸›', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010106', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¹à¸¥à¸°à¸›à¸£à¸°à¸›à¸²', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010109', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸„à¸­à¸¡à¸žà¸´à¸§à¹€à¸•à¸­à¸£à¹Œà¹à¸¥à¸°à¸­à¸´à¹€à¸¥à¹‡à¸à¸—à¸£à¸­à¸™à¸´à¸à¸ªà¹Œà¹ƒà¸Šà¹‰à¹„à¸›', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010111', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹à¸¥à¸°à¸§à¸´à¸—à¸¢à¸¸', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010112', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸à¸²à¸£à¹€à¸à¸©à¸•à¸£', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010114', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¹à¸•à¹ˆà¸‡à¸à¸²à¸¢', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010110', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ à¸§à¸²à¸£à¸ªà¸²à¸£ à¹à¸¥à¸°à¸•à¸³à¸£à¸²', categoryCode: '52000', parentCode: '52500' },
  { code: '5104010103', name: 'à¸„à¹ˆà¸²à¸§à¸±à¸ªà¸”à¸¸à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹ƒà¸Šà¹‰à¹„à¸›', categoryCode: '52000', parentCode: '52500' },

  { code: '52600', name: 'à¸„à¹ˆà¸²à¸ªà¸²à¸˜à¸²à¸£à¸“à¸¹à¸›à¹‚à¸ à¸„', categoryCode: '52000', parentCode: null },
  { code: '5104020000', name: 'à¸„à¹ˆà¸²à¸ªà¸²à¸˜à¸²à¸£à¸“à¸¹à¸›à¹‚à¸ à¸„', categoryCode: '52000', parentCode: '52600' },
  { code: '5104020001', name: 'à¸„à¹ˆà¸²à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸Šà¹‰à¸‡à¸²à¸™', categoryCode: '52000', parentCode: '52600' },
  { code: '5104020003', name: 'à¸„à¹ˆà¸²à¸™à¹‰à¸³à¸›à¸£à¸°à¸›à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸Šà¹‰à¸‡à¸²à¸™', categoryCode: '52000', parentCode: '52600' },
  { code: '5104020005', name: 'à¸„à¹ˆà¸²à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸Šà¹‰à¸‡à¸²à¸™', categoryCode: '52000', parentCode: '52600' },
  { code: '5104020008', name: 'à¸„à¹ˆà¸²à¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œà¹à¸¥à¸°à¹‚à¸—à¸£à¸ªà¸²à¸£', categoryCode: '52000', parentCode: '52600' },

  // --- à¸«à¸¡à¸§à¸” 53000 ---
  { code: '53100', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸‡à¸šà¸¥à¸‡à¸—à¸¸à¸™', categoryCode: '53000', parentCode: null },
  { code: '5411000000', name: 'à¸­à¸²à¸„à¸²à¸£à¹à¸¥à¸°à¸ªà¸´à¹ˆà¸‡à¸à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡', categoryCode: '53000', parentCode: '53100' },
  { code: '5411000004', name: 'à¸ªà¸´à¹ˆà¸‡à¸à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡', categoryCode: '53000', parentCode: '5411000000' },
  { code: '5412000000', name: 'à¸„à¸£à¸¸à¸ à¸±à¸“à¸‘à¹Œ', categoryCode: '53000', parentCode: '53100' },
  { code: '5412000002', name: 'à¸„à¹ˆà¸²à¸„à¸£à¸¸à¸ à¸±à¸“à¸‘à¹Œ', categoryCode: '53000', parentCode: '5412000000' },
  { code: '5412000003', name: 'à¸„à¹ˆà¸²à¸„à¸£à¸¸à¸ à¸±à¸“à¸‘à¹Œà¸„à¸­à¸¡à¸žà¸´à¸§à¹€à¸•à¸­à¸£à¹Œ', categoryCode: '53000', parentCode: '5412000000' },

  // --- à¸«à¸¡à¸§à¸” 54000 ---
  { code: '54100', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸‡à¸šà¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™', categoryCode: '54000', parentCode: null },
  { code: '5107010000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™-à¹€à¸žà¸·à¹ˆà¸­à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸‡à¸²à¸™', categoryCode: '54000', parentCode: '54100' },
  { code: '5107010045', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¹€à¸ˆà¸£à¸ˆà¸²à¸˜à¸¸à¸£à¸à¸´à¸ˆ', categoryCode: '54000', parentCode: '54100' },
  { code: '5107010500', name: 'à¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸¢à¸¸à¸—à¸˜à¸¨à¸²à¸ªà¸•à¸£à¹Œ', categoryCode: '54000', parentCode: '54100' },
  { code: '5107010501', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸”à¸³à¹€à¸™à¸´à¸™à¸‡à¸²à¸™ : à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸¢à¸¸à¸—à¸˜à¸¨à¸²à¸ªà¸•à¸£à¹Œ', categoryCode: '54000', parentCode: '5107010500' },
  { code: '5107010502', name: 'à¸„à¹ˆà¸²à¸„à¸£à¸¸à¸ à¸±à¸“à¸‘à¹Œ : à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸¢à¸¸à¸—à¸˜à¸¨à¸²à¸ªà¸•à¸£à¹Œ', categoryCode: '54000', parentCode: '5107010500' },
  { code: '5107010503', name: 'à¸ªà¸´à¹ˆà¸‡à¸à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡ : à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸¢à¸¸à¸—à¸˜à¸¨à¸²à¸ªà¸•à¸£à¹Œ', categoryCode: '54000', parentCode: '5107010500' },
  { code: '5107010022', name: 'à¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¸—à¸¸à¸™à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²', categoryCode: '54000', parentCode: '54100' },
  { code: '5107010088', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸‡à¸´à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¹à¸¥à¸à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¸™à¸²à¸™à¸²à¸Šà¸²à¸•à¸´', categoryCode: '54000', parentCode: '54100' },
  { code: '5107010021', name: 'à¸—à¸¸à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¹€à¸ªà¸™à¸­à¸šà¸—à¸„à¸§à¸²à¸¡à¸—à¸²à¸‡à¸§à¸´à¸Šà¸²à¸à¸²à¸£', categoryCode: '54000', parentCode: '54100' },
  { code: '5107030003', name: 'à¸—à¸¸à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¸à¸²à¸£à¸—à¸³à¸§à¸´à¸—à¸¢à¸²à¸™à¸´à¸žà¸™à¸˜à¹Œà¸‚à¸­à¸‡à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²', categoryCode: '54000', parentCode: '54100' },
  { code: '5107010201', name: 'à¸—à¸¸à¸™à¸­à¸¸à¸”à¸«à¸™à¸¸à¸™à¸à¸²à¸£à¸—à¸³à¸§à¸´à¸ˆà¸±à¸¢', categoryCode: '54000', parentCode: '54100' },

  // --- à¸«à¸¡à¸§à¸” 55000 ---
  { code: '55100', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™', categoryCode: '55000', parentCode: null },
  { code: '5108000000', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™', categoryCode: '55000', parentCode: '55100' },
  { code: '5108000020', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸™à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸žà¸´à¹€à¸¨à¸©à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™', categoryCode: '55000', parentCode: '55100' },
  { code: '5108000024', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸™à¸à¸²à¸£à¸šà¸£à¸´à¸«à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸²à¸‡', categoryCode: '55000', parentCode: '55100' },
  { code: '5108000008', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸™à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸¡à¸±à¸„à¸£à¹à¸¥à¸°à¸ªà¸­à¸šà¸„à¸±à¸”à¹€à¸¥à¸·à¸­à¸à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¸›à¸£à¸´à¸à¸à¸²à¸•à¸£à¸µ', categoryCode: '55000', parentCode: '55100' },
  { code: '5108000018', name: 'à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²', categoryCode: '55000', parentCode: '55100' },
  { code: '5108000019', name: 'à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸žà¸´à¹€à¸¨à¸©à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™', categoryCode: '55000', parentCode: '55100' },
]

// 1.4 à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸³à¸¥à¸­à¸‡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡ (Mock Activities) - à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸¡à¸µ Foreign Key
const activitiesData = [
  { code: '10', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸šà¸£à¸´à¸«à¸²à¸£à¸—à¸±à¹ˆà¸§à¹„à¸›' },
  { code: '11', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥' },
  { code: '13', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸šà¸£à¸´à¸à¸²à¸£à¸„à¸­à¸¡à¸žà¸´à¸§à¹€à¸•à¸­à¸£à¹Œà¸—à¸²à¸‡à¸§à¸´à¸Šà¸²à¸à¸²à¸£' },
  { code: '14', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸šà¸£à¸´à¸«à¸²à¸£à¸§à¸´à¸Šà¸²à¸à¸²à¸£' },
  { code: '15', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸žà¸±à¸’à¸™à¸²à¸„à¸¸à¸“à¸ à¸²à¸žà¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²' },
  { code: '16', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸žà¸±à¸’à¸™à¸²à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸§à¸´à¸Šà¸²à¸à¸²à¸£' },
  { code: '17', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸œà¸¥à¸´à¸•à¹à¸¥à¸°à¸žà¸±à¸’à¸™à¸²à¸ªà¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²' },
  { code: '18', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸žà¸±à¸’à¸™à¸²à¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£à¹à¸¥à¸°à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™à¸à¸²à¸£à¸ªà¸­à¸™' },
  { code: '19', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸ªà¹ˆà¸‡à¹€à¸ªà¸£à¸´à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸•à¸³à¸£à¸²' },
  { code: '25', name: 'à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸ªà¸²à¸‚à¸²à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸ªà¸²à¸£à¸ªà¸™à¹€à¸—à¸¨' },
  { code: '0201', name: 'à¸‡à¸²à¸™à¸šà¸£à¸´à¸à¸²à¸£à¸§à¸´à¸Šà¸²à¸à¸²à¸£à¹à¸à¹ˆà¸Šà¸¸à¸¡à¸Šà¸™' },
  { code: '0301', name: 'à¸‡à¸²à¸™à¸—à¸³à¸™à¸¸à¸šà¸³à¸£à¸¸à¸‡à¸¨à¸´à¸¥à¸›à¸§à¸±à¸’à¸™à¸˜à¸£à¸£à¸¡' },
  { code: '0401', name: 'à¸‡à¸²à¸™à¸§à¸´à¸ˆà¸±à¸¢ à¸žà¸±à¸’à¸™à¸²à¹à¸¥à¸°à¸–à¹ˆà¸²à¸¢à¸—à¸­à¸”à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ' },
]

// 1.5 à¸à¸²à¸£à¸ˆà¸±à¸šà¸„à¸¹à¹ˆ Activity + Fund + Allowed Items
// à¸™à¸µà¹ˆà¸„à¸·à¸­à¸«à¸±à¸§à¹ƒà¸ˆà¸ªà¸³à¸„à¸±à¸à¸‚à¸­à¸‡à¸à¸²à¸£ Gen à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ BudgetRecord
const budgetConfig = [
  {
    act: '10', fund: '0100',
    items: [
      '51100', '5101010000', '5101010017', '5101010025', '5101010038', '5101010004', '5101010039', 
      '51200', '5101020000', '5101020051', '5101020045', 
      '52300', '5230000000', '5101010010', '5104030201', '5101020014', '5101020030', 
      '52400', '5104010200', '5104010202', '5104010203', '5104010208', '5104030203', '5104010201', 
      '5103010000', '5104030100', 
      '52500', '5104010000', '5104010101', '5104010102', '5104010104', '5104010105', '5104010106', 
      '5104010109', '5104010111', '5104010112', '5104010114', 
      '52600', '5104020000', '5104020001', '5104020003', '5104020005', '5104020008',
      '54100', '5107010000', '5107010045',
      '55100', '5108000000', '5108000020', '5108000024'
    ]
  },
  { act: '10', fund: '0705', items: ['54100', '5107010500', '5107010501', '5107010502', '5107010503'] },
  { act: '10', fund: '0600', items: ['52400', '5104010200', '5104010204', '5104010205', '5104010206', '53100', '5411000000', '5411000004', '5412000000', '5412000002', '5412000003'] },
  { act: '11', fund: '0100', items: ['52300', '5230000000', '5101020019', '55100', '5108000000', '5108000008'] },
  { act: '11', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '13', fund: '0100', items: ['52400', '5104010200', '5104010291'] },
  { act: '13', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '14', fund: '0200', items: ['54100', '5107010000', '5107010022'] },
  { act: '14', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '15', fund: '0500', items: ['52300', '5230000000', '54100', '5107010000', '5107010088', '55100', '5108000000', '5108000018'] },
  { act: '15', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '16', fund: '0703', items: ['52300', '5230000000', '5101020025', '5101020106', '52400', '5104010200', '5102010000', '5102020000', '5103010000', '5103020000', '5104010214', '5104010285', '54100', '5107010021'] },
  { act: '16', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '17', fund: '0200', items: ['52400', '5104010200', '5104010203'] },
  { act: '17', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '18', fund: '0200', items: ['52300', '5230000000', '5101020114', '52400', '5104010200'] },
  { act: '18', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '19', fund: '0200', items: ['52300', '5230000000', '52500', '5104010000', '5104010102', '5104010110', '54100', '5107010500', '5107010501'] },
  { act: '25', fund: '0200', items: ['52300', '5230000000', '5101020011', '5101020012', '5101020026', '5101020037', '52400', '5104010200', '5104010203', '5104010207', '5104010209', '5104010210', '5104010218', '52500', '5104010000', '5104010103', '5101020013'] },
  { act: '25', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '25', fund: '0600', items: ['53100', '5412000000', '5412000003'] },
  { act: '0201', fund: '0400', items: ['52300', '5230000000', '5101020104', '52400', '5104010200', '5104010203', '52500', '5104010000', '5104010101', '55100', '5108000000', '5108000019'] },
  { act: '0201', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
  { act: '0301', fund: '0701', items: ['54100', '5107010500', '5107010501', '55100', '5108000000', '5108000019'] },
  { act: '0401', fund: '0300', items: ['54100', '5107010000', '5107030003', '5107010201'] },
  { act: '0401', fund: '0705', items: ['54100', '5107010500', '5107010501'] },
]

// ============================================================================
// 2. MAIN SEEDING FUNCTION
// ============================================================================

async function main() {
  console.log('ðŸŒ± Start Seeding...')

  // --- Step 0: Clean Up (Optional) ---
  await prisma.budgetRecord.deleteMany()
  await prisma.activityFundAllocation.deleteMany()
  await prisma.expenseItemMaster.deleteMany()
  await prisma.budgetCategory.deleteMany()
  await prisma.fundMaster.deleteMany()
  await prisma.projectActivity.deleteMany()
  // -----------------------------------

  // --- Step 1: Create Fund Master ---
  console.log('1ï¸âƒ£ Seeding Funds...')
  for (const fund of fundsData) {
    await prisma.fundMaster.create({
      data: { code: fund.code, name: fund.name }
    })
  }

  // --- Step 2: Create Budget Category ---
  console.log('2ï¸âƒ£ Seeding Budget Categories...')
  for (const cat of categoriesData) {
    await prisma.budgetCategory.create({
      data: { code: cat.code, name: cat.name }
    })
  }

  // --- Step 3: Create Expense Item Master (Recursive / Hierarchy) ---
  console.log('3ï¸âƒ£ Seeding Expense Items...')
  
  // Cache Category IDs for lookup
  const categories = await prisma.budgetCategory.findMany()
  const catMap = new Map(categories.map(c => [c.code, c.id]))

  // 3.1 Insert Parent Items First (where parentCode is null)
  const rootItems = expenseItemsData.filter(i => i.parentCode === null)
  for (const item of rootItems) {
    const catId = catMap.get(item.categoryCode)
    if (!catId) { console.error(`âŒ Category not found for item ${item.code}`); continue; }

    await prisma.expenseItemMaster.create({
      data: {
        code: item.code,
        name: item.name,
        category_id: catId,
        parent_id: null
      }
    })
  }

  // 3.2 Insert Child Items
  // Note: à¹ƒà¸™à¸à¸£à¸“à¸µà¸—à¸µà¹ˆà¸¡à¸µà¸«à¸¥à¸²à¸¢ Level (L3, L4) à¸­à¸²à¸ˆà¸•à¹‰à¸­à¸‡ loop à¸«à¸¥à¸²à¸¢à¸£à¸­à¸š à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ recursive 
  // à¹à¸•à¹ˆà¸ˆà¸²à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸­à¸™à¸™à¸µà¹‰à¸¡à¸µà¹à¸„à¹ˆ 2 level (root -> child) à¸¥à¸¹à¸›à¹€à¸”à¸µà¸¢à¸§à¸ˆà¸š
  const childItems = expenseItemsData.filter(i => i.parentCode !== null)
  for (const item of childItems) {
    const catId = catMap.get(item.categoryCode)
    
    // Find Parent ID
    const parent = await prisma.expenseItemMaster.findUnique({ where: { code: item.parentCode! } })
    
    if (catId && parent) {
      await prisma.expenseItemMaster.create({
        data: {
          code: item.code,
          name: item.name,
          category_id: catId,
          parent_id: parent.id
        }
      })
    } else {
      console.warn(`âš ï¸ Skipping item ${item.code}: Parent or Category not found`)
    }
  }

  // --- Step 4: Create Project Activities (Mock) ---
  console.log('4ï¸âƒ£ Seeding Activities...')
  // à¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡ StrategicPlan à¸à¹ˆà¸­à¸™à¹€à¸žà¸£à¸²à¸°à¹€à¸›à¹‡à¸™ Parent à¸‚à¸­à¸‡ Activity (à¸–à¹‰à¸² Schema à¸šà¸±à¸‡à¸„à¸±à¸š)
  // à¹à¸•à¹ˆà¹ƒà¸™ Schema à¸‚à¸­à¸‡à¸„à¸¸à¸“ plan_id à¹€à¸›à¹‡à¸™ Optional (?) à¸«à¸£à¸·à¸­à¸–à¹‰à¸²à¸šà¸±à¸‡à¸„à¸±à¸šà¸à¹‡à¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡ Dummy Plan
  // à¸ªà¸¡à¸¡à¸•à¸´à¸ªà¸£à¹‰à¸²à¸‡ Dummy Plan à¸à¹ˆà¸­à¸™
  const dummyPlan = await prisma.strategicPlan.create({
    data: { name: 'à¹à¸œà¸™à¸‡à¸²à¸™à¸ˆà¸±à¸”à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² (Dummy)', level: 2 }
  })

  for (const act of activitiesData) {
    await prisma.projectActivity.create({
      data: {
        code: act.code,
        name: act.name,
        level: 3, // à¸ªà¸¡à¸¡à¸•à¸´à¹€à¸›à¹‡à¸™à¸‡à¸²à¸™/à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸«à¸¥à¸±à¸
        plan_id: dummyPlan.id
      }
    })
  }

  // --- Step 5: Create Allocations & Budget Records (The Fact Table!) ---
  console.log('5ï¸âƒ£ Seeding Budget Records (Fact Table)...')
  
  const allFunds = await prisma.fundMaster.findMany()
  const allActs = await prisma.projectActivity.findMany()
  const allItems = await prisma.expenseItemMaster.findMany({ include: { category: true } })

  const fundMap = new Map(allFunds.map(f => [f.code, f.id]))
  const actMap = new Map(allActs.map(a => [a.code, a.id]))
  const itemMap = new Map(allItems.map(i => [i.code, i]))

  for (const config of budgetConfig) {
    const actId = actMap.get(config.act)
    const fundId = fundMap.get(config.fund)

    if (!actId || !fundId) {
      console.warn(`âš ï¸ Skip Config: Act ${config.act} or Fund ${config.fund} not found`)
      continue
    }

    // 5.1 Create Allocation
    // à¹ƒà¸Šà¹‰ upsert à¹€à¸žà¸·à¹ˆà¸­à¸à¸±à¸™ error à¸à¸£à¸“à¸µà¸£à¸±à¸™à¸‹à¹‰à¸³
    const allocation = await prisma.activityFundAllocation.upsert({
      where: {
        activity_id_fund_id: { activity_id: actId, fund_id: fundId }
      },
      update: {},
      create: {
        activity_id: actId,
        fund_id: fundId
      }
    })

    // 5.2 Create Budget Records
    for (const itemCode of config.items) {
      const itemNode = itemMap.get(itemCode)
      
      if (itemNode) {
        // âœ… Fact Table Construction:
        // à¹€à¸£à¸²à¹ƒà¸ªà¹ˆ fund_id à¹à¸¥à¸° category_id à¸¥à¸‡à¹„à¸›à¸•à¸£à¸‡à¹† à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰ Query à¸‡à¹ˆà¸²à¸¢à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
        await prisma.budgetRecord.create({
          data: {
            academic_year: 2569, // à¸›à¸µà¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“à¸ªà¸¡à¸¡à¸•à¸´
            allocation_id: allocation.id,
            item_id: itemNode.id,
            category_id: itemNode.category_id, // à¸”à¸¶à¸‡à¸ˆà¸²à¸ Item
            fund_id: fundId,                   // à¸”à¸¶à¸‡à¸ˆà¸²à¸ Config
            amount_gov: 0,
            amount_income: 0,
          }
        })
      }
    }
  }

  console.log('âœ… Seeding Completed Successfully!')
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })